############################################################
# MySQL / MariaDB Dump & Optional Transfer Configuration
# ----------------------------------------------------------
# Runtime configuration for ONE backup profile.
# Loaded automatically by mysql_dump_transfer.sh
#
# SECURITY NOTES:
# - DO NOT commit this file to a public repository
# - Recommended permissions:
#     chmod 600 configs/*.env
############################################################


############################################################
# SOURCE DATABASE (REQUIRED)
############################################################

# Source database host (IP / hostname)
SRC_HOST=localhost

# Source database port
SRC_PORT=3306

# Source database username
SRC_USER=root

# Source database password
SRC_PASS=password

# Database name to back up
SRC_DB=database_name


############################################################
# SOURCE CONNECTION TIMEOUT
# ----------------------------------------------------------
# Maximum time (in seconds) to wait for source database
# connection and dump initialization.
#
# If exceeded:
# - Backup is marked as ERROR
# - Post-action hook is executed
# - Next profile continues
############################################################

# Default recommended: 30
SRC_CONNECT_TIMEOUT=30


############################################################
# SOURCE SSL CONFIGURATION (OPTIONAL)
############################################################

# true  = enforce SSL connection
# false = non-SSL connection
SRC_SSL_ENABLE=false

SRC_SSL_CA=/path/ssl/ca.pem
SRC_SSL_CERT=/path/ssl/client-cert.pem
SRC_SSL_KEY=/path/ssl/client-key.pem


############################################################
# TARGET DATABASE (OPTIONAL - RESTORE)
############################################################

# true  = dump + restore
# false = dump only
TARGET_ENABLE=false

# Target database host
DEST_HOST=localhost

# Target database port
DEST_PORT=3306

# Target database username
DEST_USER=root

# Target database password
DEST_PASS=password

# Target database name (must already exist)
DEST_DB=target_database


############################################################
# TARGET CONNECTION TIMEOUT
############################################################

# Maximum time (in seconds) to wait for restore connection
# and apply process.
#
# Default recommended: 60
DEST_CONNECT_TIMEOUT=60


############################################################
# TARGET SSL CONFIGURATION (OPTIONAL)
############################################################

DEST_SSL_ENABLE=false
DEST_SSL_CA=/path/ssl/ca.pem
DEST_SSL_CERT=/path/ssl/client-cert.pem
DEST_SSL_KEY=/path/ssl/client-key.pem


############################################################
# BACKUP OUTPUT
############################################################

# Directory where dump (.sql) files are written
# NOTE: Logs are written separately per profile
DUMP_PATH=/var/backups/mysql


############################################################
# POST ACTION HOOK (OPTIONAL)
############################################################

# Absolute path to post-action script
# Executed on SUCCESS or ERROR
#
# Example:
# POST_ACTION_SCRIPT=/opt/mysql-backup/post_action_email.sh
POST_ACTION_SCRIPT=
